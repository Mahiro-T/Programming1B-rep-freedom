# 2. 自由課題について

## 内容

課題 1. の戦闘処理を行うプログラムに GTK+をもちいて GUI を加えたものである｡

## GTK+について

GTK+ (The GIMP Toolkit) は、GUI を実装するためのクロスプラットフォームのツールキットである｡
当初は GIMP 開発のために開発され､現在では GNOME デスクトップ環境のツールキット等として広く利用されている｡  
今回このツールを用いた理由としては

- C 言語で実装が可能である｡
- OS に依存しないため Linux 以外であっても動作が可能である｡

の二点である｡ GTK+には GUI 作成支援アプリ等もあるが今回は C 言語のみを用いてレイアウトを指定している｡

## 今回用いた環境

Ubuntu 18.04

今回は Linux の環境のみしか用意できなかったため動作確認は Linux 上でのみしか行っていない｡

## 必要なソフトウェア

コンパイルには GTK+が必要である｡
Ubuntu でのインストール方法は

`sudo apt-get install libgtk-3-dev`

apt コマンドで､GTK+3.0 をインストールします｡
次に､

`pkg-config --cflags gtk+-3.0`

を実行し､

`-pthread -I/usr/include/gtk-3.0 -I/usr/include/atk-1.0 -I/usr/include/at-spi2-atk/2.0 -I/usr/include/pango-1.0 -I/usr/include/gio-unix-2.0/ -I/usr/include/cairo -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/pixman-1 -I/usr/include/libpng12`

と表示されれば完了です｡

コンパイルには

`make`

と入力してください｡

## プログラムについて

このプログラムは主に 4 つの分割されたファイルと 4 つの作成したヘッダーファイルから成り立つ､

ファイル

- Main.c
  - メインのプログラム､主に GTK の設定を記述｡
- Hero_command.c
  - プレイヤーが行う処理について記述
- Monster_command.c
  - 敵が行う処理について記述
- GTK.c
  - ラベルの書き換え処理について記述

作成したヘッダーファイル

- Hero.h
  - Hero_command.c の関数を記述
- GTK_tools.h
  - GTK.c の関数を記述
- Monster.h
  - Monster_command.c の関数を記述
- structs.h
  - プログラム内で用いる構造体を記述

インクルードしたヘッダーファイル

- stdlib.h
  - random 関数を用いるためにインクルード
- time.h
  - 時刻に基づいて srand を行うためにインクルード
- gtk/gtk.h
  - GTK を用いるために必要なヘッダーファイル
- unistd.h
  - プログラムの再起動を行う execl 関数を用いるためにインクルード
